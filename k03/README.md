# 課題3 レポート
学生番号 35319056　氏名 横山 瑛士


## 課題  

以下の2つのアルゴリズムで文字列を検索するプログラムを作成する。  
- 力ずく法
- BM法

1. 使用するデータ  
以下のデータを使用する。ただし、検索対象文字列、検索する文字列は変更しても良い。  
    - StrOriginal: 検索対象データ
    - StrKey: 検索する文字列

2. 必須問題：実装する関数  
本課題では、以下の関数を実装する。C言語の標準ライブラリは使用しないこと。  
    (1) ForceSearch: 力ずく法で文字列を検索する。  
    [入力]  
    - char text[]: 検索対象文字列  
    - char key[]: 検索する文字列  

    [出力]  
    - return値：検索する文字列が出現した場所(ポインタ)。ただし、検索する文字列が見つからない場合はNULL。  

    (2) BMSearch: BM法で文字列を検索する。  
    [入力]  
    - char text[]: 検索対象文字列  
    - char key[]: 検索する文字列  
 
    [出力]  
    - return値：検索する文字列が出現した場所(ポインタ)。ただし、検索する文字列が見つからない場合はNULL。  

3. 補助関数  
なし

## ソースコードの説明


必須問題（１）
l.12 検索対象文字列の比較開始位置を示すint型の変数startと, 検索する文字列の比較場所を示すint型の変数posを宣言する.
l.13 検索文字列の長さを示すint型の変数text_lenと, キーの長さを示すint型の変数key_lenを宣言する.
l.15, l.16 l.13で宣言したtext_lenとkey_lenに文字列の長さを代入する.
l.18 ~ l.34 文字列の先頭から比較対象がなくなるまで処理を繰り返す.
    l.20 ~ l.33 キーの先頭からキーの最後まで処理を繰り返す.
        l.22 ~ l.28 比較する文字が一致したときの処理を記述している. l.24からのif文は検索が完了したときの処理を示しており, char型のポインタ関数ForceSearchにアドレスtext[start]を返す.
        l.29 ~ l.32 if文の条件に合致しなかった時, l.20から始まるfor文のループを抜け出す.
l.35 l.18から始まるfor文内で検索が完了しなかった場合, char型のポインタ関数ForceSearchにNULLを返す.

必須問題（２）
l.40 検索開始位置を保持するchar型のポインタ変数chを宣言する.
l.41 探索対象文字列の比較位置を示すint型の変数indexと, 検索する文字列の比較場所を示すint型の変数key_indexを宣言する.
l.42 探索対象文字列の長さを示すint型の変数text_lenと, キー文字列の長さを示すint型の変数key_lenを宣言する.
l.43 ずらし量テーブルの配列tableを宣言する.
l.45, l.46 l.42で宣言したtext_lenとkey_lenに文字列の長さを代入する.
l.48 ~ l.51 キーの文字列の長さを取得するための処理を行う.
l.52 ~ l.55 ずらし量テーブルを作成するための処理を行う.
l.57 検索開始位置を初期化する.
l.58 ~ l.81 文字列の先頭から比較対象がなくなるまで処理を繰り返す.
    l.60 chに, char型のポインタ関数BMSearchに返すべき文字列を保持させる.
    l.61 ~ l.76 文字列の先頭から比較対象がなくなるまで処理を繰り返す.
        l.63 ~ l.75 キーの先頭からキーの最後まで処理を繰り返す.
            l.65 ~ l.74 indexを用いて後ろから一文字ずつ比較をして, 不一致となった場合, chをNULLとして一致しなかった場所からずらし量テーブルを用いて検索開始位置をずらす.
    l.77 ~ l.80 探索対象文字列内にキーとの比較が最後まで一致するものがあった場合, char型のポインタ関数BMSearchにchを返す.
l.82 l.58から始まるwhile文内で検索が完了しなかった場合, char型のポインタ関数BMSearchにNULLを返す.


## 出力結果

```
Force Search. Find keyword at:wind in my hair.
BM Search. Find keyword at:wind in my hair.
```

## 修正履歴

